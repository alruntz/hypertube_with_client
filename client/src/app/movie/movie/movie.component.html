<ng-container *ngIf="loaded | async ">
  <div class="container">
    <mat-card class="movie-card">
      <mat-card-content class="cinema">
        <video *ngIf="videoloaded | async; else progress_bar" class="video-player" id="videoPlayer" width="100%"
               height="100%" controls>
          <source src="{{link}}" type="video/mp4">
          <track *ngIf="subtitle_defined" [src]=subtitle_path_en kind="subtitles" srclang="en" label="{{lang}}"
                 [attr.default]="subtitle_default ? '' : null"/>
        </video>
        <ng-template #progress_bar>
          <div class="progress-card">
            <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
          </div>
        </ng-template>
      </mat-card-content>
    </mat-card>
    <mat-card>
      <mat-card-content class="details-grid">
        <div class="details">
          <img [src]="torrent.medium_cover_image">
        </div>
        <mat-tab-group class="details">
          <mat-tab label="Info" class="tab-section">
            <div class="tab info">
              <span><b>{{ torrent.title }}</b></span>&nbsp;&nbsp;
              <span matBadge="{{torrent.rating}}" matBadgeOverlap="false" matBadgePosition="below after"></span>
              <br/>
              <p>{{ torrent.year }}</p>
              <p>{{torrent.runtime}}mn</p>
              <p>{{torrent.genres}}</p>
            </div>
          </mat-tab>
          <mat-tab label="Synopsis"><p class="tab">{{ torrent.synopsis }}</p></mat-tab>
          <mat-tab label="Casting"><p class="tab">{{ torrent.casting }}</p></mat-tab>
          <mat-tab label="Comments">
            <app-comments [id_movie]="torrent._id"></app-comments>
          </mat-tab>
        </mat-tab-group>
      </mat-card-content>
    </mat-card>
  </div>
</ng-container>
